@model IEnumerable<Core.Domain.TaxAgency>

@{
    ViewBag.Title = "List Tax Agency";
    
}

<link href="~/Scripts/jquery-ui-themes-1.12.1/themes/base/jquery-ui.css" rel="stylesheet" />
<script src="~/Scripts/jquery-3.1.1.js"></script>
<script src="~/Scripts/jquery-ui-1.11.4/jquery-ui.min.js"></script>

<script type="text/javascript">

    $.ajaxSetup({ cache: false });

    $(document).ready(function () {
        $(".openPopup").live("click", function (e) {
            e.preventDefault();

            $("<div></div>")
                .addClass("dialog")
                .attr("id", $(this)
                .attr("data-dialog-id"))
                .appendTo("body")
                .dialog({
                    title: $(this).attr("data-dialog-title"),
                    close: function () { $(this).remove(); },
                    modal: true,
                    height: 550,
                    width: 700,
                    left: 0

                })
                .load(this.href);
        });

        $(".close").live("click", function (e) {
            e.preventDefault();
            $(this).closest(".dialog").dialog("close");
        });
    });
</script>

<h2>List Tax Agency</h2>

<p>
    @Html.ActionLink("Create New", "AddTaxAgency", "Sales", null, new { @class = "openPopup", data_dialog_id = "popupDialog", data_dialog_title = "Add Tax Agency" })
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Account.AccountName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Vendor.No)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TaxAgencyId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TaxAgencyName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TaxRate)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Account.AccountName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Vendor.No)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TaxAgencyId)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TaxAgencyName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TaxRate)
        </td>
        <td>
            @Html.ActionLink("Edit", "EditTaxAgency", new { id = item.Id }, new { @class = "openPopup", data_dialog_id = "popupDialog", data_dialog_title = "Edit Tax Agency" }) |
            @Html.ActionLink("Details", "GetTaxAgency", new { id = item.Id }, new { @class = "openPopup", data_dialog_id = "popupDialog", data_dialog_title = "Tax Agency Detail" }) |
            @Html.ActionLink("Delete", "DeleteTaxAgency", new { id = item.Id }, new { @class = "openPopup", data_dialog_id = "popupDialog", data_dialog_title = "Delete Tax Agency" })
        </td>
    </tr>
}

</table>
